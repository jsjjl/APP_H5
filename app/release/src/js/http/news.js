function baiduAuto(t){t=encodeURI(t),$("audio").remove(),$("body").append("<audio autoplay='autoplay' id='myAudio'><source src='http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=5&text="+t+"'type='audio/mpeg'><embed height='0' width='0' src='http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=5&text="+t+"'></audio>");var n=document.getElementById("myAudio");n.onended=function(){console.log("音频已播放完成"),$(".news_bt_r").click()}}function nlist_no(){var t=$("#ajax_news_list").html();""==t&&($("#ajax_news_list").append("<p class='tc'>暂无新闻</p>"),$("#ajax_news_cont").append("<p class='tc'>暂无新闻</p>"))}var scrollh=42;URLS.SERVER_URL="http://yzrd.hangsheng.com.cn:8888/news/";var zhText,autoContent,url=URLS.SERVER_URL+URLS.newsAllCategory,data="",success=function(t){var n="",e=t;if(e&&e.length>0){for(var a=0;a<e.length;a++)if(e&&e[a].children.length>0)for(var i=0;i<e[a].children.length;i++)n+="<span data_id='"+e[a].children[i].id+"' >"+e[a].children[i].name+"</span>";$("#ajax_news_tab").empty().append(n),$(".news_tab").find("span").eq(0).addClass("active");var s={};s.id=$(".news_tab").find("span").eq(0).attr("data_id");var o=URLS.SERVER_URL+URLS.newsNewsItem,t=s,l=function(t){var e=t;if(n="",e&&e.length>0){for(var a=0;a<e.length;a++)n+="<div class='news_li_box ell'  data_id='"+e[a].id+"' ><i class='iconfont icon-notice-copy'></i> "+e[a].title+"</div>";$("#ajax_news_list").empty().append(n),$("#ajax_news_list").find("div").eq(0).addClass("active"),$("#ajax_news_list").scrollTop(0),scrollh=42;var i={};i.id=$("#ajax_news_list").find("div").eq(0).attr("data_id");var s=URLS.SERVER_URL+URLS.newsItem,t=i,o=function(t){n="",n+="<div class='news_li_title'>"+t.title+"</div>",n+="<div class='news_li_time'>"+t.relativeDate+"  "+t.author+"</div>",n+="<div class='news_li_main'>"+t.content+"</div>",autoContent=t.content.replace(/<(?!\/?p\a)[^>]+>|\s|\r|\n/gi,"");var e=autoContent.replace(/[^\x00-\xff]/g,"xx").length;e>2048&&(console.log("文字超了"),autoContent=autoContent.substring(0,850)),console.log(autoContent),baiduAuto(autoContent),$("#ajax_news_cont").empty().append(n)};ajaxPost(s,t,o),$(".news_li_box").click(function(){$(".news_li_box").removeClass("active"),$(this).addClass("active");var t={};t.id=$(this).attr("data_id"),console.log(t.id);var e=URLS.SERVER_URL+URLS.newsItem,a=t,i=function(t){n="",n+="<div class='news_li_title'>"+t.title+"</div>",n+="<div class='news_li_time'>"+t.relativeDate+"  "+t.author+"</div>",n+="<div class='news_li_main'>"+t.content+"</div>",autoContent=t.content.replace(/<(?!\/?p\a)[^>]+>|\s|\r|\n/gi,"");var e=autoContent.replace(/[^\x00-\xff]/g,"xx").length;e>2048&&(console.log("文字超了"),autoContent=autoContent.substring(0,850)),console.log(autoContent),baiduAuto(autoContent),$("#ajax_news_cont").empty().append(n)};ajaxPost(e,a,i)})}else nlist_no()};ajaxPost(o,t,l)}$(".news_tab span").click(function(){$(".news_tab span").removeClass("active"),$(this).addClass("active");var t={};t.id=$(this).attr("data_id"),console.log(t.id);var e=URLS.SERVER_URL+URLS.newsNewsItem,a=t,i=function(t){var e=t;if(n="",e&&e.length>0){for(var a=0;a<e.length;a++)n+="<div class='news_li_box ell'  data_id='"+e[a].id+"' ><i class='iconfont icon-notice-copy'></i> "+e[a].title+"</div>";$("#ajax_news_list").empty().append(n),$("#ajax_news_list").find("div").eq(0).addClass("active"),$("#ajax_news_list").scrollTop(0),scrollh=42;var i={};i.id=$("#ajax_news_list").find("div").eq(0).attr("data_id");var s=URLS.SERVER_URL+URLS.newsItem,t=i,o=function(t){n="",n+="<div class='news_li_title'>"+t.title+"</div>",n+="<div class='news_li_time'>"+t.relativeDate+"  "+t.author+"</div>",n+="<div class='news_li_main'>"+t.content+"</div>",autoContent=t.content.replace(/<(?!\/?p\a)[^>]+>|\s|\r|\n/gi,"");var e=autoContent.replace(/[^\x00-\xff]/g,"xx").length;e>2048&&(console.log("文字超了"),autoContent=autoContent.substring(0,850)),console.log(autoContent),baiduAuto(autoContent),$("#ajax_news_cont").empty().append(n)};ajaxPost(s,t,o),$(".news_li_box").click(function(){$(".news_li_box").removeClass("active"),$(this).addClass("active");var t={};t.id=$(this).attr("data_id"),console.log(t.id);var e=URLS.SERVER_URL+URLS.newsItem,a=t,i=function(t){n="",n+="<div class='news_li_title'>"+t.title+"</div>",n+="<div class='news_li_time'>"+t.relativeDate+"  "+t.author+"</div>",n+="<div class='news_li_main'>"+t.content+"</div>",autoContent=t.content.replace(/<(?!\/?p\a)[^>]+>|\s|\r|\n/gi,"");var e=autoContent.replace(/[^\x00-\xff]/g,"xx").length;e>2048&&(console.log("文字超了"),autoContent=autoContent.substring(0,850)),console.log(autoContent),baiduAuto(autoContent),$("#ajax_news_cont").empty().append(n)};ajaxPost(e,a,i)})}else nlist_no()};ajaxPost(e,a,i)})};ajaxPost(url,data,success),$(function(){$(".news_bt_l").click(function(){var t=document.getElementById("myAudio");$(this).hasClass("icon-yuyuying")?(t.pause(),$(this).removeClass("icon-yuyuying"),$(this).addClass("icon-zanting- stop")):(t.play(),$(this).addClass("icon-yuyuying"),$(this).removeClass("icon-zanting- stop"))}),$(".news_bt_r").click(function(){var t=$("#ajax_news_list div.active");if(t.next().length>0){t.next().addClass("active"),t.removeClass("active");var n=$("#ajax_news_list");n.scrollTop(scrollh),scrollh+=42,console.log(scrollh);var e={};e.id=$("#ajax_news_list div.active").attr("data_id"),console.log(e.id);var a=URLS.SERVER_URL+URLS.newsItem,i=e,s=function(t){html="",html+="<div class='news_li_title'>"+t.title+"</div>",html+="<div class='news_li_time'>"+t.relativeDate+"  "+t.author+"</div>",html+="<div class='news_li_main'>"+t.content+"</div>",autoContent=t.content.replace(/<(?!\/?p\a)[^>]+>|\s|\r|\n/gi,"");var n=autoContent.replace(/[^\x00-\xff]/g,"xx").length;n>2048&&(console.log("文字超了"),autoContent=autoContent.substring(0,850)),console.log(autoContent),baiduAuto(autoContent),$("#ajax_news_cont").empty().append(html)};ajaxPost(a,i,s)}}),$(".news_bt_f").click(function(){$(this).children("i").hasClass("icon-xinwen")?($(this).children("i").removeClass("icon-xinwen"),$(this).children("i").addClass("icon-fenlei"),$(this).children("b").html("新闻标题"),$(".project").addClass("hover")):($(this).children("i").addClass("icon-xinwen"),$(this).children("i").removeClass("icon-fenlei"),$(this).children("b").html("新闻内容"),$(".project").removeClass("hover"))})});